* Install/configure support for Go

#+BEGIN_SRC emacs-lisp

  (use-package go-mode
    :hook (
      (after-save . my-go-after-save-hook)
    )
    :config
    (defun my-go-after-save-hook ()
      (when (eq major-mode 'go-mode)
        (if (string= (buffer-name) "main.go")
          (go-run)
          (go-test-current-project)
        )
      )
    )
  )

  (use-package lsp-mode
    :hook (
      (go-mode . lsp-deferred)
    )
  )

  (use-package gotest)

#+END_SRC
